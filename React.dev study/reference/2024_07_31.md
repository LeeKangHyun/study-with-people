# lazy
- lazy(load) => load를 두 번 이상 호출하지 않는다.
- `.default` 속성이 함수, memo, forwardRef같은 콤포넌트 객체로 확인되어야 한다.
- `Suspense` 로 래핑해서 사용한다
- 항상 top-level에서 사용하기
- lazy(load) load 함수는 Promise 또는 Promise-like를 리턴하는 함수를 사용하면 된다.
- React가 최초로 렌더링한 후에 load 함수를 호출한다. 처음 호출하면 캐싱되고 다음에 다시 안부른다.
- 로딩되는 동안에는 Suspense를 트리거한다. [https://github.com/facebook/react/blob/main/packages/react/src/ReactLazy.js#L141](https://github.com/facebook/react/blob/main/packages/react/src/ReactLazy.js#L141)
- 컴포넌트 밖에서 사용
- load: Promise와 resolve 된 값은 모두 캐시되므로 React는 load를 두 번 이상 호출하지 않는다.
- 파라미터 반환된 Promise와 Promise는 모두 캐싱되기 때문에 load함수는 한 번만 호출한다!!